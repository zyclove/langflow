"use strict";(self.webpackChunklangflow_docs=self.webpackChunklangflow_docs||[]).push([[868],{19198:(e,o,n)=>{n.r(o),n.d(o,{CH:()=>d,assets:()=>a,chCodeConfig:()=>p,contentTitle:()=>i,default:()=>f,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"Deployment/deployment-docker","title":"Deploy Langflow on Docker","description":"This guide demonstrates deploying Langflow with Docker and Docker Compose.","source":"@site/docs/Deployment/deployment-docker.md","sourceDirName":"Deployment","slug":"/deployment-docker","permalink":"/deployment-docker","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Deploy Langflow on Docker","slug":"/deployment-docker"},"sidebar":"docs","previous":{"title":"Deployment overview","permalink":"/deployment-overview"},"next":{"title":"Deploy Langflow on a remote server","permalink":"/deployment-caddyfile"}}');var s=n(74848),r=n(28453),l=n(24754);const c={title:"Deploy Langflow on Docker",slug:"/deployment-docker"},i=void 0,a={},d={annotations:l.hk,Code:l.Cy},p={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},h=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Quickstart",id:"quickstart",level:2},{value:"Clone the repo and build the Langflow Docker container",id:"clone-the-repo-and-build-the-langflow-docker-container",level:2},{value:"Configure Docker services",id:"configure-docker-services",level:3},{value:"Langflow service",id:"langflow-service",level:3},{value:"PostgreSQL service",id:"postgresql-service",level:3},{value:"Deploy a specific Langflow version with Docker Compose",id:"deploy-a-specific-langflow-version-with-docker-compose",level:3},{value:"Package your flow as a Docker image",id:"package-your-flow-as-a-docker-image",level:2},{value:"Customize the Langflow Docker image with your own code",id:"customize-the-langflow-docker-image-with-your-own-code",level:2}];function g(e){const o={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",ul:"ul",...(0,r.R)(),...e.components};return d||u("CH",!1),d.Code||u("CH.Code",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n",(0,s.jsx)(o.p,{children:"This guide demonstrates deploying Langflow with Docker and Docker Compose."}),"\n",(0,s.jsx)(o.p,{children:"Three options are available:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:["The ",(0,s.jsx)(o.a,{href:"#quickstart",children:"Quickstart"})," option starts a Docker container with default values."]}),"\n",(0,s.jsxs)(o.li,{children:["The ",(0,s.jsx)(o.a,{href:"#clone-the-repo-and-build-the-langflow-docker-container",children:"Docker compose"})," option builds Langflow with a persistent PostgreSQL database service."]}),"\n",(0,s.jsxs)(o.li,{children:["The ",(0,s.jsx)(o.a,{href:"#package-your-flow-as-a-docker-image",children:"Package your flow as a docker image"})," option demonstrates packaging an existing flow with a Dockerfile."]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["For more information on configuring the Docker image, see ",(0,s.jsx)(o.a,{href:"#customize-the-langflow-docker-image-with-your-own-code",children:"Customize the Langflow Docker image with your own code"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://docs.docker.com/",children:"Docker"})}),"\n",(0,s.jsx)(o.li,{children:(0,s.jsx)(o.a,{href:"https://docs.docker.com/compose/",children:"Docker Compose"})}),"\n"]}),"\n",(0,s.jsx)(o.h2,{id:"quickstart",children:"Quickstart"}),"\n",(0,s.jsx)(o.p,{children:"With Docker installed and running on your system, run this command:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"docker run -p 7860:7860 langflowai/langflow:latest"})}),"\n",(0,s.jsxs)(o.p,{children:["Langflow is now accessible at ",(0,s.jsx)(o.code,{children:"http://localhost:7860/"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"clone-the-repo-and-build-the-langflow-docker-container",children:"Clone the repo and build the Langflow Docker container"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Clone the Langflow repository:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"git clone https://github.com/langflow-ai/langflow.git"})}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:["Navigate to the ",(0,s.jsx)(o.code,{children:"docker_example"})," directory:"]}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"cd langflow/docker_example"})}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Run the Docker Compose file:"}),"\n",(0,s.jsx)(o.p,{children:(0,s.jsx)(o.code,{children:"docker compose up"})}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(o.p,{children:["Langflow is now accessible at ",(0,s.jsx)(o.code,{children:"http://localhost:7860/"}),"."]}),"\n",(0,s.jsx)(o.h3,{id:"configure-docker-services",children:"Configure Docker services"}),"\n",(0,s.jsxs)(o.p,{children:["The Docker Compose configuration spins up two services: ",(0,s.jsx)(o.code,{children:"langflow"})," and ",(0,s.jsx)(o.code,{children:"postgres"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["To configure values for these services at container startup, include them in your ",(0,s.jsx)(o.code,{children:".env"})," file."]}),"\n",(0,s.jsxs)(o.p,{children:["An example ",(0,s.jsx)(o.code,{children:".env"})," file is available in the ",(0,s.jsx)(o.a,{href:"https://github.com/langflow-ai/langflow/blob/main/.env.example",children:"project repository"}),"."]}),"\n",(0,s.jsxs)(o.p,{children:["To pass the ",(0,s.jsx)(o.code,{children:".env"})," values at container startup, include the flag in your ",(0,s.jsx)(o.code,{children:"docker run"})," command:"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"docker run -it --rm \\",props:{}}]},{tokens:[{content:"    -p 7860:7860 \\",props:{}}]},{tokens:[{content:"    --env-file .env \\",props:{}}]},{tokens:[{content:"    langflowai/langflow:latest",props:{}}]}],lang:"text"},annotations:[]}]}),"\n",(0,s.jsx)(o.h3,{id:"langflow-service",children:"Langflow service"}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"langflow"}),"service serves both the backend API and frontend UI of the Langflow web application."]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"langflow"})," service uses the ",(0,s.jsx)(o.code,{children:"langflowai/langflow:latest"})," Docker image and exposes port ",(0,s.jsx)(o.code,{children:"7860"}),". It depends on the ",(0,s.jsx)(o.code,{children:"postgres"})," service."]}),"\n",(0,s.jsx)(o.p,{children:"Environment variables:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"LANGFLOW_DATABASE_URL"}),": The connection string for the PostgreSQL database."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"LANGFLOW_CONFIG_DIR"}),": The directory where Langflow stores logs, file storage, monitor data, and secret keys."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Volumes:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"langflow-data"}),": This volume is mapped to ",(0,s.jsx)(o.code,{children:"/app/langflow"})," in the container."]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"postgresql-service",children:"PostgreSQL service"}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"postgres"})," service is a database that stores Langflow's persistent data including flows, users, and settings."]}),"\n",(0,s.jsx)(o.p,{children:"The service runs on port 5432 and includes a dedicated volume for data storage."}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"postgres"})," service uses the ",(0,s.jsx)(o.code,{children:"postgres:16"})," Docker image."]}),"\n",(0,s.jsx)(o.p,{children:"Environment variables:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"POSTGRES_USER"}),": The username for the PostgreSQL database."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"POSTGRES_PASSWORD"}),": The password for the PostgreSQL database."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"POSTGRES_DB"}),": The name of the PostgreSQL database."]}),"\n"]}),"\n",(0,s.jsx)(o.p,{children:"Volumes:"}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.code,{children:"langflow-postgres"}),": This volume is mapped to ",(0,s.jsx)(o.code,{children:"/var/lib/postgresql/data"})," in the container."]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"deploy-a-specific-langflow-version-with-docker-compose",children:"Deploy a specific Langflow version with Docker Compose"}),"\n",(0,s.jsxs)(o.p,{children:["If you want to deploy a specific version of Langflow, you can modify the ",(0,s.jsx)(o.code,{children:"image"})," field under the ",(0,s.jsx)(o.code,{children:"langflow"})," service in the Docker Compose file. For example, to use version ",(0,s.jsx)(o.code,{children:"1.0-alpha"}),", change ",(0,s.jsx)(o.code,{children:"langflowai/langflow:latest"})," to ",(0,s.jsx)(o.code,{children:"langflowai/langflow:1.0-alpha"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"package-your-flow-as-a-docker-image",children:"Package your flow as a Docker image"}),"\n",(0,s.jsxs)(o.p,{children:["You can include your Langflow flow with the application image.\nWhen you build the image, your saved flow ",(0,s.jsx)(o.code,{children:".JSON"})," flow is included.\nThis enables you to serve a flow from a container, push the image to Docker Hub, and deploy on Kubernetes."]}),"\n",(0,s.jsxs)(o.p,{children:["An example flow is available in the ",(0,s.jsx)(o.a,{href:"https://github.com/langflow-ai/langflow-helm-charts/tree/main/examples/flows",children:"Langflow Helm Charts"})," repository, or you can provide your own ",(0,s.jsx)(o.code,{children:"JSON"})," file."]}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Create a project directory:"}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"mkdir ",props:{style:{color:"#FFA657"}}},{content:"langflow-custom",props:{style:{color:"#A5D6FF"}}},{content:" && ",props:{style:{color:"#C9D1D9"}}},{content:"cd ",props:{style:{color:"#79C0FF"}}},{content:"langflow-custom",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsxs)(o.li,{children:["Download the example flow or include your flow's ",(0,s.jsx)(o.code,{children:".JSON"})," file in the ",(0,s.jsx)(o.code,{children:"langflow-custom"})," directory."]}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"wget ",props:{style:{color:"#FFA657"}}},{content:"https://raw.githubusercontent.com/langflow-ai/langflow-helm-charts/refs/heads/main/examples/flows/basic-prompting-hello-world.json",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"3",children:["\n",(0,s.jsx)(o.li,{children:"Create a Dockerfile:"}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"FROM",props:{style:{color:"#FF7B72"}}},{content:" langflowai/langflow-backend:latest",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"RUN",props:{style:{color:"#FF7B72"}}},{content:" mkdir /app/flows",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"COPY",props:{style:{color:"#FF7B72"}}},{content:" ./*.json /app/flows/",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"ENV",props:{style:{color:"#FF7B72"}}},{content:" LANGFLOW_LOAD_FLOWS_PATH=/app/flows",props:{style:{color:"#C9D1D9"}}}]}],lang:"dockerfile"},annotations:[]}]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"COPY ./*json"})," command copies all JSON files in your current directory to the ",(0,s.jsx)(o.code,{children:"/flows"})," folder."]}),"\n",(0,s.jsxs)(o.p,{children:["The ",(0,s.jsx)(o.code,{children:"ENV LANGFLOW_LOAD_FLOWS_PATH=/app/flows"})," command sets the environment variable within the Docker container. By pointing it to ",(0,s.jsx)(o.code,{children:"/app/flows"}),", you ensure that the application can find and utilize the JSON flow files that have been copied into that directory during the image build process."]}),"\n",(0,s.jsxs)(o.ol,{start:"4",children:["\n",(0,s.jsx)(o.li,{children:"Build and run the image locally."}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"build ",props:{style:{color:"#A5D6FF"}}},{content:"-t ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0 ",props:{style:{color:"#79C0FF"}}},{content:".",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"run ",props:{style:{color:"#A5D6FF"}}},{content:"-p ",props:{style:{color:"#79C0FF"}}},{content:"7860:",props:{style:{color:"#A5D6FF"}}},{content:"7860 ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0",props:{style:{color:"#79C0FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"5",children:["\n",(0,s.jsxs)(o.li,{children:["Build and push the image to Docker Hub.\nReplace ",(0,s.jsx)(o.code,{children:"myuser"})," with your Docker Hub username."]}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"build ",props:{style:{color:"#A5D6FF"}}},{content:"-t ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0 ",props:{style:{color:"#79C0FF"}}},{content:".",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"push myuser/langflow-hello-world:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0",props:{style:{color:"#79C0FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(o.p,{children:["To deploy the image with Helm, see ",(0,s.jsx)(o.a,{href:"/deployment-kubernetes-prod",children:"Deploy the Langflow production environment on Kubernetes"}),"."]}),"\n",(0,s.jsx)(o.h2,{id:"customize-the-langflow-docker-image-with-your-own-code",children:"Customize the Langflow Docker image with your own code"}),"\n",(0,s.jsx)(o.p,{children:"You can customize the Langflow Docker image by adding your own code or modifying existing components."}),"\n",(0,s.jsxs)(o.p,{children:["This example Dockerfile demonstrates how to customize Langflow by replacing the ",(0,s.jsx)(o.code,{children:"astradb_graph.py"})," component, but the pattern can be adapted for any other components or custom code."]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"FROM",props:{style:{color:"#FF7B72"}}},{content:" langflowai/langflow:latest",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Set working directory",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"WORKDIR",props:{style:{color:"#FF7B72"}}},{content:" /app",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Copy your modified astradb_graph.py file",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"COPY",props:{style:{color:"#FF7B72"}}},{content:" src/backend/base/langflow/components/vectorstores/astradb_graph.py /tmp/astradb_graph.py",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Find the site-packages directory where langflow is installed",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"RUN",props:{style:{color:"#FF7B72"}}},{content:" python -c ",props:{style:{color:"#C9D1D9"}}},{content:'"import site; print(site.getsitepackages()[0])"',props:{style:{color:"#A5D6FF"}}},{content:" > /tmp/site_packages.txt",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Replace the file in the site-packages location",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"RUN",props:{style:{color:"#FF7B72"}}},{content:" SITE_PACKAGES=$(cat /tmp/site_packages.txt) && \\",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    echo ",props:{style:{color:"#C9D1D9"}}},{content:'"Site packages at: $SITE_PACKAGES"',props:{style:{color:"#A5D6FF"}}},{content:" && \\",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    mkdir -p ",props:{style:{color:"#C9D1D9"}}},{content:'"$SITE_PACKAGES/langflow/components/vectorstores"',props:{style:{color:"#A5D6FF"}}},{content:" && \\",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    cp /tmp/astradb_graph.py ",props:{style:{color:"#C9D1D9"}}},{content:'"$SITE_PACKAGES/langflow/components/vectorstores/"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"# Clear Python cache in the site-packages directory only",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"RUN",props:{style:{color:"#FF7B72"}}},{content:" SITE_PACKAGES=$(cat /tmp/site_packages.txt) && \\",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    find ",props:{style:{color:"#C9D1D9"}}},{content:'"$SITE_PACKAGES"',props:{style:{color:"#A5D6FF"}}},{content:" -name ",props:{style:{color:"#C9D1D9"}}},{content:'"*.pyc"',props:{style:{color:"#A5D6FF"}}},{content:" -delete && \\",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    find ",props:{style:{color:"#C9D1D9"}}},{content:'"$SITE_PACKAGES"',props:{style:{color:"#A5D6FF"}}},{content:" -name ",props:{style:{color:"#C9D1D9"}}},{content:'"__pycache__"',props:{style:{color:"#A5D6FF"}}},{content:" -type d -exec rm -rf {} +",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Expose the default Langflow port",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"EXPOSE",props:{style:{color:"#FF7B72"}}},{content:" 7860",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"# Command to run Langflow",props:{style:{color:"#8B949E"}}}]},{tokens:[{content:"CMD",props:{style:{color:"#FF7B72"}}},{content:" [",props:{style:{color:"#C9D1D9"}}},{content:'"python"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"-m"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"langflow"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"run"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"--host"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"0.0.0.0"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"--port"',props:{style:{color:"#A5D6FF"}}},{content:", ",props:{style:{color:"#C9D1D9"}}},{content:'"7860"',props:{style:{color:"#A5D6FF"}}},{content:"]",props:{style:{color:"#C9D1D9"}}}]}],lang:"dockerfile"},annotations:[]}]}),"\n",(0,s.jsx)(o.p,{children:"To use this custom Dockerfile, do the following:"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Create a directory for your custom Langflow setup:"}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"mkdir ",props:{style:{color:"#FFA657"}}},{content:"langflow-custom",props:{style:{color:"#A5D6FF"}}},{content:" && ",props:{style:{color:"#C9D1D9"}}},{content:"cd ",props:{style:{color:"#79C0FF"}}},{content:"langflow-custom",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"2",children:["\n",(0,s.jsxs)(o.li,{children:["Create the necessary directory structure for your custom code.\nIn this example, Langflow expects ",(0,s.jsx)(o.code,{children:"astradb_graph.py"})," to exist in the ",(0,s.jsx)(o.code,{children:"/vectorstores"})," directory, so you create a directory in that location."]}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"mkdir ",props:{style:{color:"#FFA657"}}},{content:"-p ",props:{style:{color:"#79C0FF"}}},{content:"src/backend/base/langflow/components/vectorstores",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(o.ol,{start:"3",children:["\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:["Place your modified ",(0,s.jsx)(o.code,{children:"astradb_graph.py"})," file in the ",(0,s.jsx)(o.code,{children:"/vectorstores"})," directory."]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsxs)(o.p,{children:["Create a new file named ",(0,s.jsx)(o.code,{children:"Dockerfile"})," in your ",(0,s.jsx)(o.code,{children:"langflow-custom"})," directory, and then copy the Dockerfile contents shown above into it."]}),"\n"]}),"\n",(0,s.jsxs)(o.li,{children:["\n",(0,s.jsx)(o.p,{children:"Build and run the image:"}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(d.Code,{codeConfig:p,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"build ",props:{style:{color:"#A5D6FF"}}},{content:"-t ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-custom:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0 ",props:{style:{color:"#79C0FF"}}},{content:".",props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"docker ",props:{style:{color:"#FFA657"}}},{content:"run ",props:{style:{color:"#A5D6FF"}}},{content:"-p ",props:{style:{color:"#79C0FF"}}},{content:"7860:",props:{style:{color:"#A5D6FF"}}},{content:"7860 ",props:{style:{color:"#79C0FF"}}},{content:"myuser/langflow-custom:",props:{style:{color:"#A5D6FF"}}},{content:"1.0.0",props:{style:{color:"#79C0FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsx)(o.p,{children:"This approach can be adapted for any other components or custom code you want to add to Langflow by modifying the file paths and component names."})]})}function f(e={}){const{wrapper:o}={...(0,r.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(g,{...e})}):g(e)}function u(e,o){throw new Error("Expected "+(o?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);